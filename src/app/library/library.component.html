<div class="row header">

    <div class="col-xl-4 col-xs-8">
        <a href="/"><img class="logo" src="assets/images/logo.png" alt="rAthe Logo"></a>
    </div>
    <div class="col-xl-6 col-xs-4">
        <div class="search">
            <input type="text" class="form-control" id="keywords" [(ngModel)]="params.keywords" name="keywords"
                   placeholder="search by title, author, or keywords" (keyup.enter)="search(true)"
                   (change)="resetPage()">
            <ng-multiselect-dropdown class="magicWordsDropdown"
                                     [placeholder]="'select magic words'"
                                     [data]="dropdownList"
                                     [settings]="dropdownSettings"
                                     [(ngModel)]="selectedItems"
                                     (onSelect)="resetPage()"
                                     (onDeSelect)="resetPage()"
            >
            </ng-multiselect-dropdown>
            <button type="button" (click)="search(true)" class="btn btn-success searchForm">Search</button>
        </div>
    </div>
    <div class="topForm"><a href="https://rathe.app/portal/public/login.php">Login</a>
        <a href="https://rathe.app/portal/public/signup.php">Signup</a></div>
</div>

<div class="scrollingBox" #scrollingBox *ngIf="!detail">
    <ng-scrollbar #scrollRef>
        <div class="spinner" *ngIf="loading">loading...</div>
        <div class="container" *ngIf="!loading">
            <div class="recentWrapper">
                <h4>New and Featured Releases</h4>
                <app-book [bookdata]="book" *ngFor="let book of featuredBooks" (click)="showDetail(book)"></app-book>
            </div>
            <div style="clear:both"></div>
            <div class="libraryWrapper">
                <h4>Library</h4>
                <div class="infoText" *ngIf="noResults">No results found.</div>
                <app-book [bookdata]="book" *ngFor="let book of books" (click)="showDetail(book)"></app-book>
                <div style="clear:both"></div>
            </div>
        </div>
    </ng-scrollbar>

</div>

<div class="container scrollingBox" *ngIf="detail">
    <ng-scrollbar>
<div class="detailBox">
        <div class="bookInfo">
            <img class="coverImage" [src]="bookdata.CoverArtLink == '/generic/cover/image' || bookdata.CoverArtLink === null ? 'https://rathe.app/portal/public/dashboard/images/system-art.jpg' : bookdata.CoverArtLink">
            <h4 [innerHTML]="bookdata.TitleName"></h4>
            <a class="authorLink" href="javascript:void(0)" (click)="openModal(authorBio)"><img class="author" [src]="bookdata.BioPhotoLink == '/generic/bio/image' || bookdata.BioPhotoLink === null ? 'https://rathe.app/portal/public/dashboard/images/no-profile.png' : bookdata.BioPhotoLink">
            <div [innerHTML]="bookdata.TitlePersona"></div></a>
            <p class="hookLine" [innerHTML]="bookdata.TitleHookLine"></p>
            <p>{{bookdata.LastUpdated | date:'longDate' }}</p>
        </div>
        <div class="bookDescription">
            <p><span [innerHTML]="bookdata.TitleDescription"></span>
            <p>Acknowledgement: <span [innerHTML]="bookdata.Acknowledgment"></span>
            </p>
            <p>Dedication: <span [innerHTML]="bookdata.Dedication"></span></p>
        </div>
    </div>
    </ng-scrollbar>
</div>

<ng-template #authorBio>
    <div class="modal-wrapper">
        <div class="modal-header">
            <p class="modal-title pull-left"><strong><span class="modalLabel">About {{ bookdata.TitlePersona }}</span></strong></p>
            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
            <div class="modal-body">
                <div class="authorImage">
                    <img [src]="bookdata.BioPhotoLink == '/generic/bio/image' || bookdata.BioPhotoLink === null ? 'https://rathe.app/portal/public/dashboard/images/no-profile.png' : bookdata.BioPhotoLink" alt="Author Image">
                    <div style="clear:both"></div>
                </div>
                <p><span>

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec leo tellus, fermentum ac lobortis sed, tristique sed sem. Cras semper facilisis nisl, mattis semper est pharetra eleifend. Donec ac turpis placerat, viverra ipsum sit amet, sodales eros. Cras accumsan felis in metus interdum, eu dignissim mauris mollis. Curabitur vitae augue dui. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla mollis nisl eu iaculis viverra.

Nam et pharetra purus. Duis pretium velit sit amet justo dictum, ac consectetur ex aliquet. Integer lacinia condimentum tincidunt. Fusce ullamcorper nunc ac eros tincidunt, vel bibendum sem suscipit. Nunc vel tempor libero. Quisque venenatis velit eu malesuada efficitur. Morbi maximus quis urna non vestibulum. Praesent nisi nisl, eleifend vel metus et, semper imperdiet enim. Nullam congue mauris in nibh ultrices tincidunt.

Maecenas non ultrices lorem. Fusce sit amet scelerisque ante. Suspendisse aliquet quis justo in cursus. Quisque ut est sit amet risus vestibulum tempus a et dolor. Ut faucibus venenatis sollicitudin. Nam accumsan quam vel risus semper accumsan eget vel magna. Donec ut nunc pretium, malesuada turpis quis, rhoncus tellus. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Quisque sodales, nibh et rutrum ornare, sem mi mollis neque, sit amet dignissim diam leo vel nunc. Morbi a velit a lectus ultricies semper. Nunc id nulla et metus vestibulum blandit.Nunc vitae blandit sem, non porta lorem. Vivamus a tellus eu turpis molestie mattis in sed mi. Mauris consequat id lectus a euismod.</span></p>
            </div>
    </div>
</ng-template>




