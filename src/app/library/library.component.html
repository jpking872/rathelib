<div class="row header">

    <div class="col-xl-4 col-xs-8">
        <a href="/"><img class="logo" src="assets/images/logo.png" alt="rAthe Logo"></a>
    </div>
    <div class="col-xl-6 col-xs-4">
        <div class="search">
            <input type="text" class="form-control" id="keywords" [(ngModel)]="params.keywords" name="keywords"
                   placeholder="search by title, author, or keywords" (keyup.enter)="search(true)"
                   (change)="resetPage()">
            <ng-multiselect-dropdown class="magicWordsDropdown"
                                     [placeholder]="'select magic words'"
                                     [data]="dropdownList"
                                     [settings]="dropdownSettings"
                                     [(ngModel)]="selectedItems"
                                     (onSelect)="resetPage()"
                                     (onDeSelect)="resetPage()"
            >
            </ng-multiselect-dropdown>
            <button type="button" (click)="search(true)" class="btn btn-success searchForm">Search</button>
        </div>
    </div>
    <div class="topForm">
        <a href="https://rathe.app">r&#256;the home</a>
        <a href="https://rathe.app/portal/public/login.php">Login</a>
        <a href="https://rathe.app/portal/public/signup.php">Signup</a></div>
</div>

<div class="scrollingBox" #scrollingBox *ngIf="!detail">
    <ng-scrollbar #scrollRef>
        <div class="spinner" *ngIf="loading">loading...</div>
        <div class="container" *ngIf="!loading">
            <div class="recentWrapper">
                <h4>New and Featured Releases</h4>
                <app-book [bookdata]="book" *ngFor="let book of featuredBooks" (click)="showDetail(book)"></app-book>
            </div>
            <div style="clear:both"></div>
            <div class="libraryWrapper">
                <h4>Library</h4>
                <div class="infoText" *ngIf="noResults">No results found.</div>
                <app-book [bookdata]="book" *ngFor="let book of books" (click)="showDetail(book)"></app-book>
                <div style="clear:both"></div>
            </div>
        </div>
    </ng-scrollbar>

</div>

<div class="container scrollingBox" *ngIf="detail">
    <img (click)="hideDetail()" class="backArrow" src="assets/images/leftArrow.png" alt="back arrow">
    <ng-scrollbar>
<div class="detailBox">
        <div class="bookInfo">
            <div class="coverImage">
            <img [src]="bookdata.CoverArtLink == '/generic/cover/image' || bookdata.CoverArtLink === null ? 'https://rathe.app/portal/public/dashboard/images/system-art.jpg' : coverpath + bookdata.CoverArtLink">
            </div>
                <h4 [innerHTML]="bookdata.TitleName"></h4>
                <div class="author">
                    <img [src]="bookdata.BioPhotoLink == '/generic/bio/image' || bookdata.BioPhotoLink === null ? 'https://rathe.app/portal/public/dashboard/images/no-profile.png' : authorpath + bookdata.BioPhotoLink">
                </div>
                <div class="authorLink">{{bookdata.TitlePersona}}&nbsp;<span style="font-size:12px;text-decoration:underline;color:#1D76D8">
                    <a href="javascript:void(0)" (click)="openModal(authorBio)">&raquo;bio</a></span></div>
            <p class="hookLine detailSmall" [innerHTML]="bookdata.TitleHookLine"></p>
            <p class="detailSmall">{{bookdata.LastUpdated | date:'longDate' }}</p>
            <div style="clear:both"></div>
        </div>
    <div style="clear:both"></div>
        <div class="bookDescription">
            <p><span [innerHTML]="bookdata.TitleDescription"></span></p>
            <p><span class="detailHeader">Acknowledgement:</span><br/><span class="detailSmall" [innerHTML]="bookdata.Acknowledgment"></span>
            </p>
            <p><span class="detailHeader">Dedication:</span><br/><span class="detailSmall" [innerHTML]="bookdata.Dedication"></span></p>
        </div>
    </div>
    </ng-scrollbar>
</div>

<ng-template #authorBio>
    <div class="modal-wrapper">
        <div class="modal-header">
            <p class="modal-title pull-left"><strong><span class="modalLabel">About {{ bookdata.TitlePersona }}</span></strong></p>
            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
            <div class="modal-body">
                <div class="authorImage">
                    <img [src]="bookdata.BioPhotoLink == '/generic/bio/image' || bookdata.BioPhotoLink === null ? 'https://rathe.app/portal/public/dashboard/images/no-profile.png' : authorpath + bookdata.BioPhotoLink" alt="Author Image">
                    <div style="clear:both"></div>
                </div>
                <p [innerHTML]="bookdata.AuthorBio"></p>
            </div>
    </div>
</ng-template>




